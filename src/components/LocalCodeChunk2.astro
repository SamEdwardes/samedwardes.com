---
import { Code } from 'astro:components';

const { src } = Astro.props
const { lang = 'python' } = Astro.props;

const url = new URL(src, Astro.url);
console.log(url);
const response = await fetch(url);
console.log(response);
const fileContent = await response.text();
console.log(fileContent);
---

<Code code={fileContent} lang={lang}/>